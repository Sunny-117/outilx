<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: array.ts</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: array.ts</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Array utility functions
 * @module array
 */

/**
 * Converts a value to an array
 * 
 * @template T
 * @param {T | T[] | null | undefined} val - The value to convert
 * @param {T} [defaultValue] - Default value when input is null/undefined
 * @returns {T[]} The resulting array
 * 
 * @example
 * ```ts
 * toArray(1)  // => [1]
 * toArray([1, 2])  // => [1, 2]
 * toArray(null, 'default')  // => ['default']
 * ```
 */
export function toArray&lt;T>(
  val: T | T[] | null | undefined,
  defaultValue?: T,
): T[] {
  if (Array.isArray(val)) {
    return val
  } else if (val == null) {
    if (defaultValue) return [defaultValue]
    return []
  } else {
    return [val]
  }
}

/**
 * Creates an array of incrementing numbers starting from 1
 * 
 * @param {number} length - The length of the array
 * @returns {number[]} Array of numbers from 1 to length
 * 
 * @example
 * ```ts
 * createIncrementingArray(3)  // => [1, 2, 3]
 * ```
 */
export function createIncrementingArray(length: number) {
  return Array.from({ length }, (_, index) => index + 1);
}

/**
 * Composes an array of functions into a single function
 * 
 * @param {Function[]} fns - Array of functions to compose
 * @returns {Function} The composed function
 * 
 * @example
 * ```ts
 * const addOne = x => x + 1;
 * const double = x => x * 2;
 * const composed = pipeFromArray([addOne, double]);
 * composed(3)  // => 8 ((3 + 1) * 2)
 * ```
 */
export function pipeFromArray(fns: Function[]) {
  if (fns.length === 0) {
    return (x) => x;
  }
  if (fns.length === 1) {
    return fns[0];
  }
  return function (input) {
    return fns.reduce((prev, fn) => fn(prev), input);
  };
}

/**
 * Randomly shuffles an array using Fisher-Yates algorithm
 * 
 * @template T
 * @param {T[]} array - The array to shuffle
 * @returns {T[]} The shuffled array
 * 
 * @example
 * ```ts
 * const arr = [1, 2, 3, 4, 5];
 * shuffleArray([...arr]);  // => [3, 1, 5, 2, 4] (random order)
 * ```
 */
export function shuffleArray&lt;T>(array: T[]): T[] {
  for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-array.html">array</a></li><li><a href="module-cache.html">cache</a></li><li><a href="module-json.html">json</a></li><li><a href="module-url.html">url</a></li></ul><h3>Classes</h3><ul><li><a href="module-cache.CacheEntry.html">CacheEntry</a></li><li><a href="module-cache.CacheEntry_CacheEntry.html">CacheEntry</a></li><li><a href="module-cache.TipCache.html">TipCache</a></li><li><a href="module-cache.TipCache_TipCache.html">TipCache</a></li></ul><h3>Global</h3><ul><li><a href="global.html#array">array</a></li><li><a href="global.html#getConfigFromDataSource">getConfigFromDataSource</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Jan 12 2025 10:36:30 GMT+0800 (中国标准时间)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
